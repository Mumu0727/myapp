(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{149:function(e,t,a){},163:function(e,t,a){e.exports=a(362)},188:function(e,t){!function(e,t){var a=e.documentElement,n="orientationchange"in window?"orientationchange":"resize",r=function(){var e=a.clientWidth;e>=640&&(e=640),e&&(a.style.fontSize=e/640*100+"px")};e.addEventListener&&(t.addEventListener(n,r,!1),e.addEventListener("DOMContentLoaded",r,!1))}(document,window)},189:function(e,t,a){},190:function(e,t,a){},240:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},341:function(e,t,a){},342:function(e,t,a){},343:function(e,t,a){},344:function(e,t,a){},362:function(e,t,a){"use strict";a.r(t);var n,r,i,c,o,l,s,u=a(0),m=a.n(u),p=a(8),h=a.n(p),d=a(6),b=a(39),f=a(40),y=(a(103),a(15)),v=a(27),g=a.n(v),j=(n=function e(t){Object(d.a)(this,e),Object(b.a)(this,"updata",r,this),Object(b.a)(this,"getdata",i,this),this.store=t},r=Object(f.a)(n.prototype,"updata",[y.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{auth:!1,data:{}}}}),i=Object(f.a)(n.prototype,"getdata",[y.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return g()({url:t}).then(function(t){e.updata=t.data.data})}}}),n),E=(c=function e(t){Object(d.a)(this,e),Object(b.a)(this,"bLoading",o,this),Object(b.a)(this,"showLoading",l,this),Object(b.a)(this,"hidLoading",s,this),this.store=t},o=Object(f.a)(c.prototype,"bLoading",[y.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=Object(f.a)(c.prototype,"showLoading",[y.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.bLoading=!0}}}),s=Object(f.a)(c.prototype,"hidLoading",[y.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.bLoading=!1}}}),c),O=new function e(){Object(d.a)(this,e),this.getdata=new j(this),this.loading=new E(this)},w=a(33);g.a.interceptors.request.use(function(e){return O.loading.showLoading(),e},function(e){return Promise.reject(e)}),g.a.interceptors.response.use(function(e){return O.loading.hidLoading(),console.log("\u62e6\u622a\u56682"),e},function(e){return Promise.reject(e)}),window.axios=g.a;g.a;var k=a(9),N=a(11),x=a(10),C=a(12),_=a(32),S=a(160),I=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(N.a)(this,Object(x.a)(t).call(this))).state={hasAuth:!1,err:1,data:{}},g()({url:"/mumu/user"}).then(function(t){e.setState({hasAuth:!0,err:t.data.err,data:t.data.data})}),e}return Object(C.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this;if(!this.state.hasAuth)return null;var t=this.props,a=t.component,n=Object(S.a)(t,["component"]);return m.a.createElement(_.b,Object.assign({},n,{render:function(t){return 0===e.state.err?m.a.createElement(a,Object.assign({},t,{data:e.state.data})):m.a.createElement(_.a,{to:"/login"})}}))}}]),t}(m.a.Component),L=(a(188),a(189),a(190),a(48)),z=a(17),A=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(N.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.showDrawer=function(){a.setState({visible:!a.state.visible})},a.logout=function(){window.axios({url:"/mumu/logout",method:"PUT"}).then(function(e){0===e.data.err&&(a.props.props.history.push("/home"),console.log(a.props))})},a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"componentWillReceiveProps",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=this;return console.log(),m.a.createElement("div",{className:"header"},m.a.createElement("div",{className:"header-box"},m.a.createElement("div",{className:"header-go_back",onClick:function(){return e.props.props.history.go(-1)}}),m.a.createElement("div",{className:"header-title"},this.props.username),m.a.createElement("div",{className:"header-menu",onClick:this.showDrawer})),this.state.visible&&m.a.createElement(L.a,{type:"right",delay:100,duration:1e3,forcedReplay:!0},m.a.createElement("div",{className:"xiala",key:"a"},m.a.createElement(z.b,{to:"/home",className:"xiala-text",key:"a"}," \u9996\u9875 "),m.a.createElement(z.b,{to:"/user",className:"xiala-text",key:"b"}," \u4e2a\u4eba\u4e2d\u5fc3 "),m.a.createElement(z.b,{to:"/login",className:"xiala-text",key:"d"}," \u767b\u5f55 "),m.a.createElement("p",{className:"xiala-text",key:"c",onClick:this.logout}," \u6ce8\u9500 "))))}}]),t}(u.Component),P=(a(238),a(161)),T=(a(240),function(){return m.a.createElement("div",{className:"example"},m.a.createElement(P.a,{tip:"Loading..."}))}),q=(a(245),function(e){function t(){return Object(d.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"fooder"},m.a.createElement("div",{className:"fooder-box"},"Copyright(c)2015 PetShow All Rights Reserved"))}}]),t}(u.Component)),D=a(73),M=(a(246),function(e){function t(){return Object(d.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props.form,t=e.purpose,a=e.inputs,n=e.rememberme,r=e.login;return m.a.createElement("div",{className:"reg"},m.a.createElement("div",{className:"reg-box"},m.a.createElement("h3",{className:"reg-box_top"},t),a.map(function(e,t){return m.a.createElement("input",{name:e.name,onChange:e.changeIpt,value:e.value,type:e.type,className:"form-input_txt",placeholder:e.placeholder,key:t})}),n?m.a.createElement("div",{className:"rememberme"},m.a.createElement("input",{type:"checkbox",id:"brand",value:!0}),m.a.createElement("label",{htmlFor:"brand"},m.a.createElement("span",null),"\u8bb0\u4f4f\u6211")):null,m.a.createElement("div",{className:"btn",onClick:r},t)))}}]),t}(u.Component)),R=(a(363),a(159)),H=(a(92),a(18)),W=(a(251),a(102));function F(e){var t="image/jpeg"===e.type;t||W.a.error("You can only upload JPG file!");var a=e.size/1024/1024<2;return a||W.a.error("Image must smaller than 2MB!"),t&&a}u.Component;var J=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(N.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={user:"",password:"",tel:""},a.changeIpt=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value))},a.reg=function(){window.axios({url:"/mumu/reg",data:{username:a.state.user,password:a.state.password,save:!0},method:"POST"}).then(function(e){console.log(e),0===e.data.err?a.props.history.push("/"):alert("\u6ce8\u518c\u5931\u8d25")})},a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement(M,{form:{purpose:"\u6ce8\u518c",login:this.reg,inputs:[{name:"user",type:"text",placeholder:"\u7528\u6237\u540d",value:this.state.user,changeIpt:this.changeIpt},{name:"password",type:"password",placeholder:"\u5bc6 \u7801",value:this.state.password,changeIpt:this.changeIpt},{name:"tel",type:"tel",placeholder:"\u624b\u673a\u53f7",value:this.state.tel,changeIpt:this.changeIpt}]}}),m.a.createElement("div",{className:"router-btn"},m.a.createElement(z.b,{to:"/login"},"\u767b\u5f55")))}}]),t}(u.Component),U=(a(341),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(N.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={__html:""},a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.axios({url:"/mumu"+this.props.match.url}).then(function(t){return e.setState({__html:t.data.data.content})})}},{key:"render",value:function(){return m.a.createElement("div",{className:"detail",dangerouslySetInnerHTML:this.state,ket:"a"})}}]),t}(u.PureComponent)),B=(a(342),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(N.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},upload:!1},a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data,a=t.fans,n=t.follow,r=t.icon,i=t.nikename;return m.a.createElement("div",{className:"user"},m.a.createElement("div",{className:"user-box"},m.a.createElement("div",{className:"user-icon-box",onClick:function(){e.setState({upload:!0})}},m.a.createElement("img",{alt:"\u5934\u50cf",className:"user-icon",src:"http://localhost:3000"+r})),m.a.createElement("div",{className:"user-name"},i),m.a.createElement("div",{className:"user-signature"},"\u6211\u5750\u5728\u6c34\u5c4b\u4e0b\u8fb9\u7684\u5e73\u53f0\u770b\u7740\u5927\u6d77\uff0c\u5439\u7740\u6d77\u98ce\uff0c\u771f\u7684\u662f\u592a\u559c\u6b22\u4e86\u3002\u591c\u665a\u6709\u597d\u591a\u5c0f\u767d\u9ca8\u9c7c\uff0c\u597d\u591a\u79cd\u9c7c\u3002"),m.a.createElement("ul",{className:"pet-grzx"},m.a.createElement("li",{className:"pet-grzx_box"},a,m.a.createElement("span",{className:"pet-grzx_num"},"\u559c\u6b22")),m.a.createElement("li",{className:"pet-grzx_box"},n,m.a.createElement("span",{className:"pet-grzx_num"},"\u5173\u6ce8")),m.a.createElement("li",{className:"pet-grzx_box"},"4",m.a.createElement("span",{className:"pet-grzx_num"},"\u6587\u7ae0")))))}}]),t}(u.Component)),G=(a(343),function(e){function t(){return Object(d.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return this.props.data?m.a.createElement("div",{className:"cell",key:"q"},m.a.createElement("div",{className:"cell-top"},m.a.createElement("div",{className:"cell-top_left"},this.props.data.author_name),m.a.createElement("div",{className:"cell-top_right"},this.props.data.category)),m.a.createElement("div",{className:"cell-centent"},m.a.createElement("div",{className:"cell-centent_left"},m.a.createElement("h3",{className:"cell-centent_title"},this.props.data.title)),m.a.createElement("div",{className:"cell-centent_imgbox"},m.a.createElement("img",{src:this.props.data.thumbnail_pic_s,alt:this.props.data.title})))):null}}]),t}(u.Component)),Y=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(N.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={topdata:[]},a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"componentWillMount",value:function(){var e=this;window.axios({url:"/mumu/"+this.props.match.params.pathname,params:{_page:1,_limit:10}}).then(function(t){e.setState({topdata:t.data.data})})}},{key:"render",value:function(){return m.a.createElement("div",{style:{marginTop:"49px"}},m.a.createElement(L.a,{type:"bottom",delay:100,duration:1e3,forcedReplay:!0},this.state.topdata.map(function(e,t){return m.a.createElement(z.b,{to:"/detail/"+e.uniquekey,key:t},m.a.createElement(G,{data:e,key:t}))})))}}]),t}(u.Component),K=(a(344),a(345),a(346),a(158)),Q=a.n(K),V=function(e){function t(){return Object(d.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{style:{minHeight:"270px",background:"#999"}},m.a.createElement(Q.a,{infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0},this.props.banner&&this.props.banner.map(function(e,t){return m.a.createElement("div",{className:"banner-box",key:e.uniquekey},m.a.createElement("img",{src:e.thumbnail_pic_s,alt:e.title}),m.a.createElement("h3",null,e.title))})))}}]),t}(u.Component),X=a(1),Z=a.n(X),$=(a(149),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(N.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={drawer:[{title:"\u56fd\u9645",pathname:"guoji",type:"icon-guoji-copy"},{title:"\u5934\u6761",pathname:"top",type:"icon-toutiao_yixuan"},{title:"\u79d1\u6280",pathname:"keji",type:"icon-keji1-copy"},{title:"\u56fd\u5185",pathname:"guonei",type:"icon-xianluxuanxiangqiaguonei"},{title:"\u8d22\u7ecf",pathname:"caijing",type:"icon-shangyecaijing"},{title:"\u5a31\u4e50",pathname:"yule",type:"icon-yule1"},{title:"\u4f53\u80b2",pathname:"tiyu",type:"icon-tubiao"},{title:"\u65f6\u5c1a",pathname:"shishang",type:"icon-shishang"},{title:"\u519b\u4e8b",pathname:"junshi",type:"icon-1122-v2-15"}]},a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=H.a.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1298394_esv7vlrh8ul.js"});return m.a.createElement("div",{className:"drawer",key:"a"},m.a.createElement("div",{className:"drawer-end",onClick:this.props.onClose},m.a.createElement(e,{type:"icon-guanbi"})),m.a.createElement("ul",{className:"drawer-box"},this.state.drawer.map(function(t,a){return m.a.createElement("li",{className:"drawer-icon_box",key:a},m.a.createElement(z.b,{to:{pathname:"/follow/"+t.pathname}},m.a.createElement(e,{type:t.type,className:"drawer-icon"}),m.a.createElement("span",{className:"drawer-text"},t.title)))})))}}]),t}(u.Component));$.propType={onClose:Z.a.func};var ee,te,ae=$,ne=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(N.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,nav:[{title:"\u56fd\u9645",pathname:"guoji",type:"icon-guoji"},{title:"\u5934\u6761",pathname:"top",type:"icon-toutiao_yixuan"},{title:"\u79d1\u6280",pathname:"keji",type:"icon-keji1"},{title:"\u56fd\u5185",pathname:"guonei",type:"icon-xianluxuanxiangqiaguonei"},{title:"\u8d22\u7ecf",pathname:"caijing",type:"icon-shangyecaijing"},{title:"\u5a31\u4e50",pathname:"yule",type:"icon-yule1"},{title:"\u4f53\u80b2",pathname:"tiyu",type:"icon-tubiao"}]},a.showDrawer=function(){a.setState({visible:!0})},a.onClose=function(){a.setState({visible:!1})},a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=H.a.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1298394_d4opjpb989k.js"});return m.a.createElement("div",null,m.a.createElement("div",{className:"icons-list"},m.a.createElement("ul",{className:"list-box"},this.state.nav.map(function(t,a){return m.a.createElement("li",{className:"icon-box",key:a},m.a.createElement(z.b,{to:{pathname:"/follow/"+t.pathname}},m.a.createElement(e,{type:t.type,className:"icon"}),m.a.createElement("span",{className:"list-text"},t.title)))}),m.a.createElement("li",{className:"icon-box",onClick:this.showDrawer},m.a.createElement(e,{type:"icon-toutiao1",className:"icon"}),m.a.createElement("span",{className:"list-text"},"\u66f4\u591a")))),this.state.visible?m.a.createElement(L.a,{type:"bottom",delay:100,duration:1e3,forcedReplay:!0},m.a.createElement(ae,{onClose:this.onClose,key:"q"})):null)}}]),t}(u.Component),re=Object(w.b)("store")(ee=Object(w.c)(ee=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(N.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={banner:[],home:[]},a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.store.getdata.getdata)("/mumu/home")}},{key:"render",value:function(){var e=this.props.store.loading.bLoading,t=this.props.store.getdata.updata[0];if(t)var a=t.banner,n=t.home;return m.a.createElement("div",{className:"home",style:{background:"#ececec"}},!e&&m.a.createElement(V,{banner:a}),!e&&m.a.createElement(ne,null),!e&&n&&n.map(function(e,t){return m.a.createElement(z.b,{to:"/detail/"+e.uniquekey,key:t},m.a.createElement(G,{data:e,key:t}))}))}}]),t}(u.Component))||ee)||ee,ie=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(N.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={user:"",password:"",data:{}},a.changeIpt=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value))},a.login=function(){window.axios({url:"/mumu/login",data:{username:a.state.user,password:a.state.password,save:!0},method:"POST"}).then(function(e){0===e.data.err?a.props.history.push("/user"):alert("\u767b\u5f55\u5931\u8d25")})},a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement(M,{form:{purpose:"\u767b\u5f55",login:this.login,rememberme:!0,inputs:[{name:"user",type:"text",placeholder:"\u7528\u6237\u540d",value:this.state.user,changeIpt:this.changeIpt},{name:"password",type:"password",placeholder:"\u5bc6 \u7801",value:this.state.password,changeIpt:this.changeIpt}]}}),m.a.createElement("div",{className:"router-btn"},m.a.createElement(z.b,{to:"/reg"},"\u6ce8\u518c")))}}]),t}(u.Component),ce=Object(w.b)("store")(te=Object(w.c)(te=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(N.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={bHeader:!1,title:"",loading:!0},a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"checkpath",value:function(e){/home/.test(e)&&this.setState({bHeader:!1}),/follow|detail|user|login|reg/.test(e)&&this.setState({bHeader:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=e.location.pathname;this.checkpath(t),this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"componentWillMount",value:function(){var e=this.props.location.pathname;this.checkpath(e)}},{key:"render",value:function(){var e=this.props.store.loading.bLoading;return m.a.createElement("div",{className:"App",key:"a"},e&&m.a.createElement(T,null),this.state.bHeader&&m.a.createElement(A,{props:this.props,kry:"b"}),m.a.createElement(_.d,{key:"a"},m.a.createElement(_.b,{path:"/home",component:re}),m.a.createElement(I,{path:"/user",component:B}),m.a.createElement(_.b,{path:"/login",component:ie}),m.a.createElement(_.b,{path:"/reg",component:J}),m.a.createElement(_.b,{path:"/detail/:id",component:U}),m.a.createElement(_.b,{path:"/follow/:pathname",component:Y}),m.a.createElement(_.a,{exact:!0,from:"/",to:"/home"})),m.a.createElement(q,{key:"c"}))}}]),t}(u.Component))||te)||te;h.a.render(m.a.createElement(z.a,null,m.a.createElement(w.a,{store:O},m.a.createElement(_.b,{component:ce,key:"a"}))),document.getElementById("root"))}},[[163,1,2]]]);
//# sourceMappingURL=main.b3886cb9.chunk.js.map